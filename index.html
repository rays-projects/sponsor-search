<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>スポンサー検索</title>
</head>
<body>
  <h1>スポンサー検索サイト（β）</h1>

  <input type="text" id="keyword" placeholder="キーワード検索">
  <button onclick="search()">検索</button>

  <ul id="result"></ul>

  <script>
  async function loadSponsors() {
    const res = await fetch("./data/sponsors.json");
    const sponsors = await res.json();
    return sponsors;
  }

  async function search() {
    const kw = document.getElementById("keyword").value;
    const sponsors = await loadSponsors();

    const result = sponsors.filter(s => 
      s.name.includes(kw) ||
      s.category.includes(kw) ||
      s.location.includes(kw) ||
      s.note.includes(kw)
    );

    document.getElementById("result").innerHTML =
      result.length === 0
        ? "<li>該当なし</li>"
        : result.map(r => 
            `<li>${r.name}（${r.category}/${r.location}） - ${r.note}</li>`
          ).join("");
  }
</script>
</body>
</html>